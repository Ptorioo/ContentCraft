# IG 內容同質化分析平台 - 功能說明（發表用）

## 系統概述

本平台旨在將抽象的「內容趨同」概念轉化為可量化的指標，透過多模態機器學習模型（文字、影像、metadata）計算 **ATI (Average Trend Index)** 和 **DS (Diversity Score)**，幫助品牌了解自身內容與市場的相似度，並提供數據驅動的差異化策略建議。

---

## 一、總覽分析 (Overview Analytics)

### 1.1 核心指標卡片組

**功能**：顯示市場整體統計數據

**三個卡片**：
- **平均 ATI**：市場整體的內容趨同程度（0-100，越高越趨同）
- **監測品牌**：分析的品牌總數和貼文總數
- **高風險品牌**：ATI 排名前 10% 的品牌數量

**意義與價值**：
- 快速掌握市場整體狀況
- 了解競爭環境的趨同程度
- 識別需要關注的高風險品牌群體

**存在動機**：提供高層次的市場洞察，讓使用者快速理解整體市場狀態

---

### 1.2 ATI 時間序列

**功能**：顯示市場整體 ATI、Novelty、Diversity 隨時間的變化趨勢

**技術細節**：
- 雙 Y 軸設計：左軸為 ATI (0-100)，右軸為 Novelty/Diversity (0-1)
- 整合訓練集和測試集數據（2025-04 至 2025-09）
- 優先使用真實時間數據 (`ftime_parsed`)，無則模擬時間序列

**意義與價值**：
- 觀察市場趨同趨勢是否加劇
- 了解 Novelty 和 Diversity 的變化方向
- 預測未來市場走向

**存在動機**：時間序列分析是驗證「內容趨同」假設的關鍵證據，顯示市場是否真的在趨同

---

### 1.3 Novelty × Diversity 分佈散點圖

**功能**：視覺化所有品牌在 Novelty-Diversity 空間的分佈

**互動功能**：
- 滑鼠懸停時，該數據點保持不透明，其他點變透明（透明度 0.15）
- 顯示品牌詳細資訊（ATI、Novelty、Diversity、貼文數、追蹤數）

**意義與價值**：
- 識別市場中的「異類」品牌（高 Novelty、高 Diversity）
- 發現「趨同陷阱」品牌（低 Novelty、低 Diversity）
- 理解品牌在內容空間中的相對位置

**存在動機**：Novelty 和 Diversity 是 ATI 的兩個核心組成部分，此圖表幫助理解品牌差異化的兩個維度

---

### 1.4 High Risk / Resilient 品牌對比表

**功能**：並列顯示兩類品牌
- **High Risk（Average Trap）品牌**：連續趨近市場平均，需要差異化策略
- **Resilient（保持差異）品牌**：Novelty 與 Diversity 均衡，值得作為標竿

**顯示資訊**：品牌名稱、ATI、Novelty、Diversity、貼文數、追蹤數

**意義與價值**：
- 明確識別需要改進的品牌
- 提供學習標竿（Resilient 品牌）
- 量化風險等級

**存在動機**：將抽象的「趨同風險」具體化為可操作的品牌清單，幫助決策者優先處理高風險品牌

---

### 1.5 案例深潛分析 (Case Study Deep Dive)

**功能**：深入分析特定品牌的貼文內容，並模擬調整策略的效果

**左側**：
- 顯示品牌基本資訊和風險標籤（「平均陷阱高」或「保持差異」）
- 展示代表性貼文（含圖片、文字、互動數據）
- 顯示貼文的 ATI、Novelty、Diversity 指標

**右側**：
- **情境測試**：手動調整貼文元素，預測 ATI 變化
- 例如：「套用差異化貼文元素」→ 顯示 ATI 下降 27.6 點
- 列出具體調整項目（ATI 變化、Novelty 變化、Diversity 變化、互動指標變化）

**意義與價值**：
- 提供具體的改進案例
- 量化策略調整的效果
- 幫助理解「差異化」的實際操作方式

**存在動機**：理論指標需要轉化為實際行動，此功能展示如何透過調整貼文元素來降低 ATI，提升差異化

---

### 1.6 長尾貼文檔案夾

**功能**：顯示互動率分佈右尾的極值貼文（前 6 名）

**顯示內容**：
- 貼文圖片、品牌名稱、日期
- ATI、Novelty、Diversity 指標
- 按讚數、留言數、互動率
- 前 3 名貼文有排名標記

**意義與價值**：
- 發現「爆款」貼文的特徵
- 分析高互動率貼文的 ATI 分佈
- 驗證「低 ATI（高差異化）是否帶來高互動率」的假設

**存在動機**：長尾分析幫助理解極值案例，驗證差異化策略是否真的能提升互動率

---

### 1.7 多模態貢獻拆解

**功能**：分析文字、影像、metadata 三個模態對整體 ATI 的貢獻

**視覺化**：
- **堆疊柱狀圖**：顯示各模態的 ATI、Novelty、Diversity 數值
- **圓餅圖**：顯示各模態的權重分配（engagement weight）

**詳細資訊**：
- 每個模態的 ATI、Novelty、Diversity 數值
- 各模態的權重百分比
- 合成 ATI（三個模態加權平均）

**意義與價值**：
- 了解哪個模態對趨同影響最大
- 指導內容策略：應該加強文字、影像還是 metadata 的差異化
- 驗證多模態模型的合理性

**存在動機**：ATI 是三個模態的加權組合，此功能幫助理解各模態的貢獻，指導實際的內容優化方向

---

### 1.8 ATI 與互動率相關性分析

**功能**：分析 ATI 與互動率（y）的相關性

**顯示內容**：
- **散點圖**：每個點代表一篇貼文，X 軸為 ATI，Y 軸為互動率
- **相關係數**：Spearman 和 Pearson 相關係數
- **迴歸線**：線性迴歸線及其公式

**意義與價值**：
- 驗證核心假設：「低 ATI（高差異化）是否帶來高互動率？」
- 量化相關性強度
- 提供統計證據支持差異化策略

**存在動機**：這是整個研究的核心問題，需要統計證據證明 ATI 與互動率的關係

---

### 1.9 分箱（Decile）分析

**功能**：將貼文依 ATI 分成 10 等分，檢視每個分箱的平均互動率

**視覺化**：
- **組合圖表**：柱狀圖顯示平均互動率，折線圖顯示平均 ATI
- **雙 Y 軸**：左軸為互動率，右軸為 ATI

**詳細資訊**：
- 每個分箱的貼文數量
- 平均 ATI 和平均互動率

**意義與價值**：
- 驗證 ATI 與互動率的單調關係
- 識別「最佳 ATI 區間」（互動率最高的分箱）
- 提供分層分析，避免極值影響

**存在動機**：分箱分析是統計學中驗證變數關係的標準方法，可以排除極值影響，更清楚地看到整體趨勢

---

## 二、品牌儀表板 (Brand Dashboard)

### 2.1 品牌選擇器

**功能**：從下拉選單選擇要分析的品牌

**意義與價值**：提供個別品牌的深度分析入口

**存在動機**：總覽分析提供市場整體視角，品牌儀表板提供個別品牌的詳細洞察

---

### 2.2 核心指標卡片組

**三個卡片**：
- **平均 ATI**：該品牌的內容趨同程度，並顯示與市場平均的差異（百分比和分數）
- **內容新穎度 (DS)**：該品牌的內容多樣性分數（0-1，越高越多元）
- **貼文數**：分析的樣本數量

**意義與價值**：
- 快速了解品牌的定位
- 量化與市場的差異
- 判斷品牌是否需要差異化策略

**存在動機**：提供品牌層級的核心指標，幫助品牌了解自身在市場中的位置

---

### 2.3 ATI 趨勢圖

**功能**：顯示該品牌 ATI 隨時間的變化趨勢

**技術細節**：
- 將品牌貼文分成 4 個階段（模擬時間序列）
- 顯示品牌 ATI 和市場平均 ATI 的對比線

**意義與價值**：
- 觀察品牌是否越來越趨同
- 了解品牌與市場的相對變化
- 識別趨勢轉折點

**存在動機**：時間趨勢分析幫助判斷品牌的長期策略是否有效

---

### 2.4 最相似的品牌

**功能**：找出與該品牌最相似的三個品牌

**顯示內容**：
- 品牌名稱和排名
- ATI 和 DS 的數值及差異
- 相似度百分比和進度條

**技術細節**：
- 使用高斯相似度函數計算品牌相似度
- 基於 ATI 和 DS 的標準化距離

**意義與價值**：
- 識別競爭對手
- 了解市場中的「同質化群體」
- 發現潛在的學習標竿或避開的陷阱

**存在動機**：相似品牌分析幫助品牌理解「誰和我最像」，這是差異化策略的起點

---

### 2.5 最不新穎的貼文（最像市場平均）

**功能**：顯示該品牌 ATI 最高的三篇貼文（最趨同的貼文）

**顯示內容**：
- 貼文縮圖（目前為佔位符）
- 貼文文字內容（前 150 字）
- ATI、DS、按讚數、留言數、互動率

**意義與價值**：
- 識別需要改進的貼文
- 了解「趨同」貼文的特徵
- 提供具體的改進案例

**存在動機**：理論指標需要轉化為具體貼文，幫助內容創作者理解「什麼樣的貼文會導致高 ATI」

---

### 2.6 最新穎的貼文（最與眾不同）

**功能**：顯示該品牌 ATI 最低的三篇貼文（最具差異化的貼文）

**顯示內容**：與「最不新穎的貼文」相同格式

**意義與價值**：
- 識別成功的差異化案例
- 了解「差異化」貼文的特徵
- 提供可複製的成功模式

**存在動機**：對比「最不新穎」和「最新穎」的貼文，幫助品牌理解差異化的具體表現

---

## 三、市場地圖 (Market Map)

### 3.1 市場統計卡片組

**四個卡片**：
- **品牌總數**：分析的品牌數量
- **平均 ATI**：市場整體趨同程度
- **平均 DS**：市場整體多樣性
- **趨同度指數**：基於 ATI 標準差的趨同度指標（越高越趨同）

**意義與價值**：快速掌握市場整體狀況

**存在動機**：提供市場層級的統計摘要

---

### 3.2 控制面板

**功能**：提供兩個控制選項

**顏色依據**：
- **ATI 高低**：綠色=新穎（低ATI），紅色=平均（高ATI）
- **聚類群組**：不同顏色代表不同的內容風格群組

**降維方法**：
- **品牌定位圖 (DS vs ATI)**：直接使用 DS 和 ATI 作為座標軸
- **標準化 (Z-score)**：使用 Z-score 標準化
- **ATI vs DS (標準化)**：標準化後的 ATI 和 DS
- **PCA 降維**：主成分分析降維

**意義與價值**：
- 提供多種視角觀察市場
- 品牌定位圖最直觀，直接對應業務指標
- PCA 降維可以發現隱藏的市場結構

**存在動機**：不同的視覺化方法揭示不同的市場洞察，品牌定位圖最適合業務決策，PCA 適合發現隱藏模式

---

### 3.3 品牌分佈散點圖

**功能**：視覺化所有品牌在內容空間的分佈

**品牌定位圖模式**：
- X 軸：內容多樣性 (DS)
- Y 軸：趨同程度 (ATI)
- 象限劃分：四個象限代表不同的品牌定位
  - 高度差異化/低趨同（左上）
  - 高度差異化/高趨同（右上）
  - 低度差異化/低趨同（左下）
  - 低度差異化/高趨同（右下）
- 參考線：顯示市場平均 DS 和 ATI

**互動功能**：
- 滑鼠懸停顯示品牌詳細資訊
- 顏色編碼（ATI 高低或聚類群組）

**意義與價值**：
- 視覺化市場競爭格局
- 識別市場空白區域（競爭較少的定位）
- 發現品牌群聚現象（市場趨同的證據）
- 指導品牌定位策略

**存在動機**：市場地圖是戰略規劃的核心工具，幫助品牌找到差異化定位，避免陷入「平均陷阱」

---

### 3.4 聚類說明

**功能**：當選擇「聚類群組」顏色模式時，顯示聚類說明

**內容**：
- 品牌被自動分成 N 個群組
- 每個群組代表相似的內容風格
- 群組越集中 = 市場越趨同
- 群組越分散 = 市場越多元

**意義與價值**：
- 理解市場的結構化特徵
- 識別內容風格群組
- 驗證市場趨同假設

**存在動機**：聚類分析是發現市場結構的標準方法，幫助理解「哪些品牌形成同質化群體」

---

### 3.5 趨同度分析

**功能**：顯示市場趨同度指數及其解釋

**內容**：
- 趨同度指數數值
- 根據指數提供警告或肯定訊息：
  - > 80%：市場高度趨同
  - 60-80%：市場中度趨同
  - < 60%：市場較為多元

**意義與價值**：
- 量化市場趨同程度
- 提供行動建議
- 驗證研究假設

**存在動機**：趨同度指數是整個研究的核心指標，需要明確的解釋和行動建議

---

## 四、技術架構與數據流程

### 4.1 數據來源

**CSV 檔案**：
- `ati_test_brand_agg.csv`：品牌聚合數據（ATI、DS、互動率等）
- `ati_test_per_post.csv`：測試集每篇貼文的詳細數據
- `ati_train_per_post.csv`：訓練集每篇貼文的詳細數據

**數據欄位**：
- **ATI_final**：最終 ATI 分數（0-100）
- **DS_final**：內容多樣性分數（0-1）
- **text_ATI, image_ATI, meta_ATI**：各模態的 ATI 貢獻
- **text_nov, image_nov, meta_nov**：各模態的新穎度
- **text_div, image_div, meta_div**：各模態的多樣性
- **y**：互動率（(likes + commentWeight * comments) / (followers + 0.01)）
- **ftime_parsed**：發文時間（用於時間序列分析）

---

### 4.2 後端服務

**主要服務檔案**：
- `brandAnalysisService.ts`：品牌分析邏輯
- `marketMapService.ts`：市場地圖數據處理
- `server.ts`：Express API 伺服器

**核心函數**：
- `getMarketTrend()`：生成市場時間序列
- `getATIEngagementCorrelation()`：計算 ATI 與互動率相關性
- `getDecileAnalysis()`：分箱分析
- `getTailOutlierPosts()`：長尾貼文分析
- `getBrandDetails()`：品牌詳細資訊
- `getSimilarBrands()`：相似品牌計算
- `getMarketMapData()`：市場地圖數據生成

---

### 4.3 前端組件

**主要組件**：
- `AnalyticsDashboard.tsx`：總覽分析儀表板
- `BrandDashboard.tsx`：品牌儀表板
- `MarketMap.tsx`：市場地圖

**圖表庫**：Recharts（LineChart、BarChart、ScatterChart、PieChart、ComposedChart）

---

## 五、核心指標解釋

### 5.1 ATI (Average Trend Index)

**定義**：內容趨同指數，範圍 0-100

**計算方式**：
- 三個模態（文字、影像、metadata）的加權平均
- 每個模態的 ATI 基於該模態的 embedding 與市場平均的距離

**解釋**：
- **低 ATI（< 30）**：內容新穎，與市場差異大
- **中 ATI（30-50）**：內容中等趨同
- **高 ATI（> 50）**：內容高度趨同，缺乏差異化

**業務意義**：
- 高 ATI 品牌容易陷入「平均陷阱」
- 低 ATI 品牌具有差異化優勢
- ATI 與互動率的相關性驗證差異化策略的有效性

---

### 5.2 DS (Diversity Score)

**定義**：內容多樣性分數，範圍 0-1

**計算方式**：
- 基於品牌內部貼文的多樣性（變異係數）
- 三個模態的加權平均

**解釋**：
- **高 DS（> 0.6）**：品牌內容多樣，風格變化大
- **低 DS（< 0.4）**：品牌內容單一，風格固定

**業務意義**：
- DS 反映品牌的內容策略一致性
- 高 DS 不一定好，需要與 ATI 結合判斷
- 在品牌定位圖中，DS 作為 X 軸，ATI 作為 Y 軸

---

### 5.3 Novelty（新穎度）

**定義**：單篇貼文與市場平均的差異程度，範圍 0-1

**計算方式**：
- 基於 embedding 距離計算
- 三個模態分別計算

**解釋**：
- **高 Novelty（> 0.7）**：貼文與市場差異大
- **低 Novelty（< 0.3）**：貼文與市場相似

**業務意義**：
- Novelty 是差異化的直接指標
- 與 ATI 負相關（高 Novelty = 低 ATI）
- 時間序列中的 Novelty 趨勢反映市場創新程度

---

### 5.4 Diversity（多樣性）

**定義**：品牌內部貼文的多樣性，範圍 0-1

**計算方式**：
- 基於品牌內部貼文的變異係數
- 三個模態分別計算

**解釋**：
- **高 Diversity（> 0.7）**：品牌內容風格多變
- **低 Diversity（< 0.3）**：品牌內容風格單一

**業務意義**：
- Diversity 反映品牌的內容策略靈活性
- 需要與 ATI 結合判斷（高 Diversity + 低 ATI = 最佳狀態）

---

## 六、研究價值與貢獻

### 6.1 理論貢獻

1. **量化「內容趨同」概念**：將抽象的趨同概念轉化為可計算的 ATI 指標
2. **多模態分析框架**：整合文字、影像、metadata 三個模態
3. **統計驗證**：透過相關性分析和分箱分析驗證假設

---

### 6.2 實務貢獻

1. **差異化策略指導**：提供具體的改進建議和案例
2. **競爭分析工具**：識別相似品牌和市場定位
3. **內容優化建議**：指出哪個模態需要加強差異化

---

### 6.3 技術貢獻

1. **穩健的 CSV 解析**：處理包含換行的欄位（如 caption）
2. **時間序列整合**：整合訓練集和測試集數據
3. **互動式視覺化**：提供多種視角和互動功能

---

## 七、發表重點建議

### 7.1 開場

1. **問題陳述**：IG 內容同質化問題日益嚴重
2. **研究目標**：量化內容趨同，提供差異化策略
3. **核心指標**：ATI 和 DS 的定義與計算方式

---

### 7.2 核心功能展示順序

1. **總覽分析**：市場整體狀況
2. **ATI 時間序列**：驗證趨同趨勢
3. **相關性分析**：證明差異化與互動率的關係
4. **品牌儀表板**：個別品牌的深度分析
5. **市場地圖**：競爭格局視覺化
6. **案例深潛**：具體的改進案例

---

### 7.3 強調的價值點

1. **量化分析**：不只是描述，而是精確計算
2. **多模態整合**：文字、影像、metadata 全面分析
3. **實務應用**：提供具體的改進建議
4. **統計驗證**：相關性分析和分箱分析提供證據

---

### 7.4 技術亮點

1. **穩健的數據處理**：處理複雜的 CSV 格式
2. **時間序列整合**：真實時間數據與模擬時間序列的結合
3. **互動式視覺化**：多種視角和互動功能
4. **相似度計算**：基於標準化的高斯相似度函數

---

## 八、常見問題與回答

### Q1: ATI 是如何計算的？

**A**: ATI 是三個模態（文字、影像、metadata）的加權平均。每個模態的 ATI 基於該模態的 embedding 與市場平均的距離。詳細計算方式見 `結果/ATI計算流程說明.md`。

---

### Q2: 為什麼需要三個模態？

**A**: IG 貼文是多模態內容，文字、影像、metadata 都會影響內容的趨同程度。單一模態無法完整反映內容特徵，因此需要整合三個模態。

---

### Q3: 時間序列是真實的嗎？

**A**: 優先使用真實時間數據（`ftime_parsed`），如果無法匹配，則使用模擬時間序列（按貼文順序分組）。系統會自動選擇最佳可用數據。

---

### Q4: 如何判斷品牌是否需要差異化？

**A**: 
- **高 ATI（> 50）**：需要差異化
- **低 ATI（< 30）**：差異化良好
- **結合市場地圖**：如果品牌位於「低度差異化/高趨同」象限，需要改進

---

### Q5: 長尾貼文檔案夾的意義是什麼？

**A**: 長尾貼文是互動率極高的貼文，分析這些貼文的 ATI 分佈可以驗證「差異化是否帶來高互動率」的假設。如果長尾貼文的 ATI 普遍較低，則證明差異化策略有效。

---

## 九、總結

本平台透過多模態機器學習模型，將抽象的「內容趨同」概念轉化為可量化的 ATI 和 DS 指標，並提供：

1. **市場整體分析**：時間序列、相關性分析、分箱分析
2. **品牌深度分析**：個別品牌的詳細指標和改進建議
3. **競爭格局視覺化**：市場地圖和相似品牌分析
4. **實務應用指導**：案例深潛和情境測試

這些功能共同構成了一個完整的內容差異化分析與策略建議系統，幫助品牌在競爭激烈的 IG 市場中找到差異化定位，避免陷入「平均陷阱」。

