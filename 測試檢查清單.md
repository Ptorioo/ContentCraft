# 測試檢查清單

## ✅ API 測試（已完成）

- [x] `/api/brands` - 返回品牌列表
- [x] `/api/brand/:brandName` - 返回品牌詳細資訊
- [ ] `/api/brand/:brandName/similar` - 返回相似品牌
- [ ] `/api/market/stats` - 返回市場統計

## 🔍 前端測試步驟

### 1. 啟動服務

**終端 1 - 後端**
```bash
cd /Users/lck/workspace/ContentCraft
npx tsx src/services/server.ts
```
應該看到：`API on :8787`

**終端 2 - 前端**
```bash
npm run dev
```
應該看到：`Local: http://localhost:5173`

### 2. 測試前端連接

1. 打開瀏覽器：http://localhost:5173
2. 點擊「分析儀表板」按鈕
3. 選擇「品牌儀表板」Tab
4. 檢查：
   - [ ] 品牌下拉選單是否出現
   - [ ] 選擇品牌後是否顯示數據
   - [ ] 核心指標卡片是否正確顯示
   - [ ] 最相似的品牌列表是否顯示
   - [ ] 最不新穎/最新穎的貼文是否顯示

### 3. 測試不同品牌

測試以下品牌，確認數據正確：
- [ ] `chatime.tw_official` - 知名品牌
- [ ] `missingtea_2015` - 高互動品牌
- [ ] `teamagichand00` - 最新穎品牌（ATI 最低）

### 4. 檢查數據正確性

對於每個品牌，確認：
- [ ] ATI 數值與 CSV 一致
- [ ] 與市場平均的比較正確
- [ ] 最相似的品牌確實相似
- [ ] 最不新穎的貼文 ATI 較高
- [ ] 最新穎的貼文 ATI 較低

## 🐛 常見問題排查

### 問題 1：前端無法載入品牌列表

**檢查：**
1. 後端是否正在運行（`http://localhost:8787/api/brands`）
2. 瀏覽器 Console 是否有錯誤
3. CORS 是否正確設定

**解決：**
- 確認 `server.ts` 中的 CORS 設定包含 `http://localhost:5173`

### 問題 2：品牌詳細資訊為空

**檢查：**
1. CSV 檔案路徑是否正確
2. 品牌名稱是否完全匹配（大小寫、特殊字元）
3. 後端 Console 是否有錯誤訊息

**解決：**
- 檢查 `brandAnalysisService.ts` 中的 CSV 路徑
- 確認品牌名稱編碼正確（`encodeURIComponent`）

### 問題 3：最相似品牌列表為空

**檢查：**
1. `calculateBrandSimilarity` 函數是否正確
2. 是否有足夠的品牌數據

**解決：**
- 確認至少有 2 個品牌
- 檢查相似度計算邏輯

## 📊 預期結果

### 品牌儀表板應該顯示：

1. **核心指標卡片**
   - 平均 ATI（例如：39.4）
   - 與市場平均的比較（高於/低於）
   - 內容新穎度 (DS)
   - 貼文數

2. **最相似的品牌**
   - 3 個品牌
   - 相似度百分比（例如：85%）
   - 相似度進度條

3. **最不新穎的貼文**
   - 3 篇貼文
   - ATI 較高（接近市場平均）
   - 貼文預覽和按讚數

4. **最新穎的貼文**
   - 3 篇貼文
   - ATI 較低（與市場差異大）
   - 貼文預覽和按讚數

## ✅ 完成標準

當以下所有項目都正常運作時，表示基本功能已完成：

- [x] API 正常返回數據
- [ ] 前端能正確顯示品牌列表
- [ ] 選擇品牌後能顯示詳細資訊
- [ ] 相似品牌計算正確
- [ ] 貼文列表正確排序
- [ ] UI 美觀且易用

## 🚀 下一步

完成基本測試後，可以：
1. 實作市場地圖（Tab 2）
2. 實作貼文檢測（Tab 3）
3. 優化 UI/UX
4. 準備發表會 Demo

